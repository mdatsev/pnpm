"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.generateGravatarUrl = generateGravatarUrl;
exports.GENERIC_AVATAR = void 0;

var _cryptoUtils = require("../lib/crypto-utils");

var _lodash = _interopRequireDefault(require("lodash"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// @flow
// this is a generic avatar
// https://www.iconfinder.com/icons/403017/anonym_avatar_default_head_person_unknown_user_icon
// license: free commercial usage
const GENERIC_AVATAR = `
    data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1
    ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGVuYWJsZS1iYW
    NrZ3JvdW5kPSJuZXcgLTI3IDI0IDEwMCAxMDAiIGhlaWdodD0iMTAwcHgiIGlkPSJ1bmtub3duIiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3
    g9Ii0yNyAyNCAxMDAgMTAwIiB3aWR0aD0iMTAwcHgiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy
    8yMDAwL3N2ZyIgeG1sbnM6c2tldGNoPSJodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2gvbnMiIHhtbG5zOnhsaW5rPS
    JodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48Zz48Zz48ZGVmcz48Y2lyY2xlIGN4PSIyMyIgY3k9Ijc0IiBpZD0iY2lyY2xlIi
    ByPSI1MCIvPjwvZGVmcz48dXNlIGZpbGw9IiNGNUVFRTUiIG92ZXJmbG93PSJ2aXNpYmxlIiB4bGluazpocmVmPSIjY2lyY2xlIi8+PGN
    saXBQYXRoIGlkPSJjaXJjbGVfMV8iPjx1c2Ugb3ZlcmZsb3c9InZpc2libGUiIHhsaW5rOmhyZWY9IiNjaXJjbGUiLz48L2NsaXBQYXR
    oPjxnIGNsaXAtcGF0aD0idXJsKCNjaXJjbGVfMV8pIj48ZGVmcz48cGF0aCBkPSJNMzYsOTUuOWMwLDQsNC43LDUuMiw3LjEsNS44Yzc
    uNiwyLDIyLjgsNS45LDIyLjgsNS45YzMuMiwxLjEsNS43LDMuNSw3LjEsNi42djkuOEgtMjd2LTkuOCAgICAgICBjMS4zLTMuMSwzLjk
    tNS41LDcuMS02LjZjMCwwLDE1LjItMy45LDIyLjgtNS45YzIuNC0wLjYsNy4xLTEuOCw3LjEtNS44YzAtNCwwLTEwLjksMC0xMC45aDI
    2QzM2LDg1LDM2LDkxLjksMzYsOTUuOXoiIGlkPSJzaG91bGRlcnMiLz48L2RlZnM+PHVzZSBmaWxsPSIjRTZDMTlDIiBvdmVyZmxvdz0
    idmlzaWJsZSIgeGxpbms6aHJlZj0iI3Nob3VsZGVycyIvPjxjbGlwUGF0aCBpZD0ic2hvdWxkZXJzXzFfIj48dXNlIG92ZXJmbG93PSJ
    2aXNpYmxlIiB4bGluazpocmVmPSIjc2hvdWxkZXJzIi8+PC9jbGlwUGF0aD48cGF0aCBjbGlwLXBhdGg9InVybCgjc2hvdWxkZXJzXzF
    fKSIgZD0iTTIzLjIsMzVjMC4xLDAsMC4xLDAsMC4yLDBjMCwwLDAsMCwwLDAgICAgICBjMy4zLDAsOC4yLDAuMiwxMS40LDJjMy4zLD
    EuOSw3LjMsNS42LDguNSwxMi4xYzIuNCwxMy43LTIuMSwzNS40LTYuMyw0Mi40Yy00LDYuNy05LjgsOS4yLTEzLjUsOS40YzAsMC0wL
    jEsMC0wLjEsMCAgICAgIGMtMC4xLDAtMC4xLDAtMC4yLDBjLTAuMSwwLTAuMSwwLTAuMiwwYzAsMC0wLjEsMC0wLjEsMGMtMy43LTAuM
    i05LjUtMi43LTEzLjUtOS40Yy00LjItNy04LjctMjguNy02LjMtNDIuNCAgICAgIGMxLjItNi41LDUuMi0xMC4yLDguNS0xMi4xYzMuM
    i0xLjgsOC4xLTIsMTEuNC0yYzAsMCwwLDAsMCwwQzIzLjEsMzUsMjMuMSwzNSwyMy4yLDM1TDIzLjIsMzV6IiBmaWxsPSIjRDRCMDhDI
    iBpZD0iaGVhZC1zaGFkb3ciLz48L2c+PC9nPjxwYXRoIGQ9Ik0yMi42LDQwYzE5LjEsMCwyMC43LDEzLjgsMjAuOCwxNS4xYzEuMSwxM
    S45LTMsMjguMS02LjgsMzMuN2MtNCw1LjktOS44LDguMS0xMy41LDguMyAgICBjLTAuMiwwLTAuMiwwLTAuMywwYy0wLjEsMC0wLjEs
    MC0wLjIsMEMxOC44LDk2LjgsMTMsOTQuNiw5LDg4LjdjLTMuOC01LjYtNy45LTIxLjgtNi44LTMzLjhDMi4zLDUzLjcsMy41LDQwLDIyL
    jYsNDB6IiBmaWxsPSIjRjJDRUE1IiBpZD0iaGVhZCIvPjwvZz48L3N2Zz4=`;
/**
 * Generate gravatar url from email address
 */

exports.GENERIC_AVATAR = GENERIC_AVATAR;

function generateGravatarUrl(email = '', online = true) {
  if (online) {
    if (_lodash.default.isString(email) && _lodash.default.size(email) > 0) {
      email = email.trim().toLocaleLowerCase();
      const emailMD5 = (0, _cryptoUtils.stringToMD5)(email);
      return `https://www.gravatar.com/avatar/${emailMD5}`;
    }

    return GENERIC_AVATAR;
  } else {
    return GENERIC_AVATAR;
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlscy91c2VyLnRzIl0sIm5hbWVzIjpbIkdFTkVSSUNfQVZBVEFSIiwiZ2VuZXJhdGVHcmF2YXRhclVybCIsImVtYWlsIiwib25saW5lIiwiXyIsImlzU3RyaW5nIiwic2l6ZSIsInRyaW0iLCJ0b0xvY2FsZUxvd2VyQ2FzZSIsImVtYWlsTUQ1Il0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUNBOztBQUNBOzs7O0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDTyxNQUFNQSxjQUFjLEdBQUk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O2dFQUF4QjtBQXlCUDs7Ozs7O0FBR08sU0FBU0MsbUJBQVQsQ0FBNkJDLEtBQW9CLEdBQUcsRUFBcEQsRUFBd0RDLE1BQWUsR0FBRyxJQUExRSxFQUF3RjtBQUM3RixNQUFJQSxNQUFKLEVBQVk7QUFDVixRQUFJQyxnQkFBRUMsUUFBRixDQUFXSCxLQUFYLEtBQXFCRSxnQkFBRUUsSUFBRixDQUFPSixLQUFQLElBQWdCLENBQXpDLEVBQTRDO0FBQzFDQSxNQUFBQSxLQUFLLEdBQUdBLEtBQUssQ0FBQ0ssSUFBTixHQUFhQyxpQkFBYixFQUFSO0FBQ0EsWUFBTUMsUUFBUSxHQUFHLDhCQUFZUCxLQUFaLENBQWpCO0FBQ0EsYUFBUSxtQ0FBa0NPLFFBQVMsRUFBbkQ7QUFDRDs7QUFDRCxXQUFPVCxjQUFQO0FBQ0QsR0FQRCxNQU9PO0FBQ0wsV0FBT0EsY0FBUDtBQUNEO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAZmxvd1xuaW1wb3J0IHtzdHJpbmdUb01ENX0gZnJvbSAnLi4vbGliL2NyeXB0by11dGlscyc7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuXG4vLyB0aGlzIGlzIGEgZ2VuZXJpYyBhdmF0YXJcbi8vIGh0dHBzOi8vd3d3Lmljb25maW5kZXIuY29tL2ljb25zLzQwMzAxNy9hbm9ueW1fYXZhdGFyX2RlZmF1bHRfaGVhZF9wZXJzb25fdW5rbm93bl91c2VyX2ljb25cbi8vIGxpY2Vuc2U6IGZyZWUgY29tbWVyY2lhbCB1c2FnZVxuZXhwb3J0IGNvbnN0IEdFTkVSSUNfQVZBVEFSID0gYFxuICAgIGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEQ5NGJXd2dkbVZ5YzJsdmJqMGlNUzR3SWlBL1Bqd2hSRTlEVkZsUVJTQnpkbWNnSUZCVlFreEpReUFuTFM4dlZ6TkRMeTlFVkVRZ1UxXG4gICAgWkhJREV1TVM4dlJVNG5JQ0FuYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2UjNKaGNHaHBZM012VTFaSEx6RXVNUzlFVkVRdmMzWm5NVEV1WkhSa0p6NDhjM1puSUdWdVlXSnNaUzFpWVdcbiAgICBOclozSnZkVzVrUFNKdVpYY2dMVEkzSURJMElERXdNQ0F4TURBaUlHaGxhV2RvZEQwaU1UQXdjSGdpSUdsa1BTSjFibXR1YjNkdUlpQjJaWEp6YVc5dVBTSXhMakVpSUhacFpYZENiM1xuICAgIGc5SWkweU55QXlOQ0F4TURBZ01UQXdJaUIzYVdSMGFEMGlNVEF3Y0hnaUlIaHRiRHB6Y0dGalpUMGljSEpsYzJWeWRtVWlJSGh0Ykc1elBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5XG4gICAgOHlNREF3TDNOMlp5SWdlRzFzYm5NNmMydGxkR05vUFNKb2RIUndPaTh2ZDNkM0xtSnZhR1Z0YVdGdVkyOWthVzVuTG1OdmJTOXphMlYwWTJndmJuTWlJSGh0Ykc1ek9uaHNhVzVyUFNcbiAgICBKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eE9UazVMM2hzYVc1cklqNDhaejQ4Wno0OFpHVm1jejQ4WTJseVkyeGxJR040UFNJeU15SWdZM2s5SWpjMElpQnBaRDBpWTJseVkyeGxJaVxuICAgIEJ5UFNJMU1DSXZQand2WkdWbWN6NDhkWE5sSUdacGJHdzlJaU5HTlVWRlJUVWlJRzkyWlhKbWJHOTNQU0oyYVhOcFlteGxJaUI0YkdsdWF6cG9jbVZtUFNJalkybHlZMnhsSWk4K1BHTlxuICAgIHNhWEJRWVhSb0lHbGtQU0pqYVhKamJHVmZNVjhpUGp4MWMyVWdiM1psY21ac2IzYzlJblpwYzJsaWJHVWlJSGhzYVc1ck9taHlaV1k5SWlOamFYSmpiR1VpTHo0OEwyTnNhWEJRWVhSXG4gICAgb1BqeG5JR05zYVhBdGNHRjBhRDBpZFhKc0tDTmphWEpqYkdWZk1WOHBJajQ4WkdWbWN6NDhjR0YwYUNCa1BTSk5NellzT1RVdU9XTXdMRFFzTkM0M0xEVXVNaXczTGpFc05TNDRZemNcbiAgICB1Tml3eUxESXlMamdzTlM0NUxESXlMamdzTlM0NVl6TXVNaXd4TGpFc05TNDNMRE11TlN3M0xqRXNOaTQyZGprdU9FZ3RNamQyTFRrdU9DQWdJQ0FnSUNCak1TNHpMVE11TVN3ekxqa1xuICAgIHROUzQxTERjdU1TMDJMalpqTUN3d0xERTFMakl0TXk0NUxESXlMamd0TlM0NVl6SXVOQzB3TGpZc055NHhMVEV1T0N3M0xqRXROUzQ0WXpBdE5Dd3dMVEV3TGprc01DMHhNQzQ1YURJXG4gICAgMlF6TTJMRGcxTERNMkxEa3hMamtzTXpZc09UVXVPWG9pSUdsa1BTSnphRzkxYkdSbGNuTWlMejQ4TDJSbFpuTStQSFZ6WlNCbWFXeHNQU0lqUlRaRE1UbERJaUJ2ZG1WeVpteHZkejBcbiAgICBpZG1semFXSnNaU0lnZUd4cGJtczZhSEpsWmowaUkzTm9iM1ZzWkdWeWN5SXZQanhqYkdsd1VHRjBhQ0JwWkQwaWMyaHZkV3hrWlhKelh6RmZJajQ4ZFhObElHOTJaWEptYkc5M1BTSlxuICAgIDJhWE5wWW14bElpQjRiR2x1YXpwb2NtVm1QU0lqYzJodmRXeGtaWEp6SWk4K1BDOWpiR2x3VUdGMGFENDhjR0YwYUNCamJHbHdMWEJoZEdnOUluVnliQ2dqYzJodmRXeGtaWEp6WHpGXG4gICAgZktTSWdaRDBpVFRJekxqSXNNelZqTUM0eExEQXNNQzR4TERBc01DNHlMREJqTUN3d0xEQXNNQ3d3TERBZ0lDQWdJQ0JqTXk0ekxEQXNPQzR5TERBdU1pd3hNUzQwTERKak15NHpMRFxuICAgIEV1T1N3M0xqTXNOUzQyTERndU5Td3hNaTR4WXpJdU5Dd3hNeTQzTFRJdU1Td3pOUzQwTFRZdU15dzBNaTQwWXkwMExEWXVOeTA1TGpnc09TNHlMVEV6TGpVc09TNDBZekFzTUMwd0xcbiAgICBqRXNNQzB3TGpFc01DQWdJQ0FnSUdNdE1DNHhMREF0TUM0eExEQXRNQzR5TERCakxUQXVNU3d3TFRBdU1Td3dMVEF1TWl3d1l6QXNNQzB3TGpFc01DMHdMakVzTUdNdE15NDNMVEF1TVxuICAgIGkwNUxqVXRNaTQzTFRFekxqVXRPUzQwWXkwMExqSXROeTA0TGpjdE1qZ3VOeTAyTGpNdE5ESXVOQ0FnSUNBZ0lHTXhMakl0Tmk0MUxEVXVNaTB4TUM0eUxEZ3VOUzB4TWk0eFl6TXVNXG4gICAgaTB4TGpnc09DNHhMVElzTVRFdU5DMHlZekFzTUN3d0xEQXNNQ3d3UXpJekxqRXNNelVzTWpNdU1Td3pOU3d5TXk0eUxETTFUREl6TGpJc016VjZJaUJtYVd4c1BTSWpSRFJDTURoRElcbiAgICBpQnBaRDBpYUdWaFpDMXphR0ZrYjNjaUx6NDhMMmMrUEM5blBqeHdZWFJvSUdROUlrMHlNaTQyTERRd1l6RTVMakVzTUN3eU1DNDNMREV6TGpnc01qQXVPQ3d4TlM0eFl6RXVNU3d4TVxuICAgIFM0NUxUTXNNamd1TVMwMkxqZ3NNek11TjJNdE5DdzFMamt0T1M0NExEZ3VNUzB4TXk0MUxEZ3VNeUFnSUNCakxUQXVNaXd3TFRBdU1pd3dMVEF1TXl3d1l5MHdMakVzTUMwd0xqRXNcbiAgICBNQzB3TGpJc01FTXhPQzQ0TERrMkxqZ3NNVE1zT1RRdU5pdzVMRGc0TGpkakxUTXVPQzAxTGpZdE55NDVMVEl4TGpndE5pNDRMVE16TGpoRE1pNHpMRFV6TGpjc015NDFMRFF3TERJeUxcbiAgICBqWXNOREI2SWlCbWFXeHNQU0lqUmpKRFJVRTFJaUJwWkQwaWFHVmhaQ0l2UGp3dlp6NDhMM04yWno0PWA7XG5cbi8qKlxuICogR2VuZXJhdGUgZ3JhdmF0YXIgdXJsIGZyb20gZW1haWwgYWRkcmVzc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVHcmF2YXRhclVybChlbWFpbDogc3RyaW5nIHwgdm9pZCA9ICcnLCBvbmxpbmU6IGJvb2xlYW4gPSB0cnVlKTogc3RyaW5nIHtcbiAgaWYgKG9ubGluZSkge1xuICAgIGlmIChfLmlzU3RyaW5nKGVtYWlsKSAmJiBfLnNpemUoZW1haWwpID4gMCkge1xuICAgICAgZW1haWwgPSBlbWFpbC50cmltKCkudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgIGNvbnN0IGVtYWlsTUQ1ID0gc3RyaW5nVG9NRDUoZW1haWwpO1xuICAgICAgcmV0dXJuIGBodHRwczovL3d3dy5ncmF2YXRhci5jb20vYXZhdGFyLyR7ZW1haWxNRDV9YDtcbiAgICB9XG4gICAgcmV0dXJuIEdFTkVSSUNfQVZBVEFSO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBHRU5FUklDX0FWQVRBUjtcbiAgfVxufVxuIl19