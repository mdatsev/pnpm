export default function withLock<T>(dir: string, opts: {
    stale: number;
    locks: string;
    whenLocked?: () => void;
}): Promise<(() => Promise<void>) & {
    sync: () => void;
}>;
